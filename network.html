<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Motivation</title>
    <style>
        /* Add your existing styles here */
        /* ... */

        .introduction-container {
            width: 80%; /* Adjust the width as needed */
            margin: auto;
            padding: 20px;
            background-color: #fff;
            margin-top: 0; /* Remove top margin */
        }

        .introduction-container h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .introduction-container img {
            width: 60%; /* Adjust the size as needed */
            display: block;
            margin: 20px auto; /* Centers the image */
        }

        .introduction-container em {
            display: block;
            text-align: center;
            margin-bottom: 30px;
        }

        .section-heading {
            color: #5c6bc0;
            font-size: 24px; /* Adjust the font-size as needed */
            margin-top: 40px;
            padding-bottom: 5px;
            border-bottom: 2px solid #5c6bc0; /* Adds a colored underline */
        }

        .section-content {
            margin-top: 20px;
        }

        .introduction-container ul {
            list-style-type: none; /* Removes the default bullet points */
            padding-left: 0;
        }

        .introduction-container li {
            margin-bottom: 10px;
        }

        .conclusion {
            font-weight: bold;
            text-align: center;
            margin-top: 40px;
        }

        .flex-container {
            display: flex;
        }

        .map-container {
            position: relative; /* Keep this to position the pushpins relative to the map container */
            width: 100%; /* Set to 100% to make the map responsive */
            margin: auto; /* Center the container */
        }

        .map-container img {
            width: 100%; /* Set to 100% to make the map image responsive */
            height: auto; /* Maintain aspect ratio */
        }

        .map-marker {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            transform: translate(-50%, -50%);
        }

        .map-marker .emoji {
            font-size: 25px;
        }

        .map-marker .city-btn {
            margin-top: 5px;
            background-color: #e75151;
            border: none;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: larger; /* Increase font size */
            color: white; /* Set font color to white */
        }

        .map-marker .city-btn:hover {
            background-color: #e0e0e0;
        }

        .main-content {
            flex-grow: 1;
            /* If there's padding on the sidebar, ensure the same is applied here */
            padding: 20px; /* This padding should match the sidebar padding for vertical alignment */
            background-color: #fff; /* Or any color or background you wish to apply */
        }

        /* Style for the top bar */
        .top-bar {
            background-color: #4b2e83; /* Replace with the exact color of the purple used by your university */
            color: white;
            padding: 10px 20px; /* Adjust padding as needed */
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo1 {
            /* Adjust the size of the logo as needed */
            height: 50px;
        }

        .logo2 {
            /* Adjust the size of the logo as needed */
            height: 20px;
        }

        .nav-menu {
            background-color: #c7c5c5; /* Adjust to match the exact color of your menu background */
            display: flex;
            align-items: center;
            padding: 10px 20px;
            justify-content: space-between;
        }

        .nav-menu img {
            height: 40px; /* Adjust based on your second logo's size */
            margin-right: 20px; /* Add some space between the logo and the menu items */
        }

        .nav-menu ul {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
            margin-left: auto; /* Push the menu items to the right */
        }

        .nav-menu li {
            display: flex; /* Make the li a flex container too, if needed */
            align-items: center; /* Align the content of li in the center vertically */
            padding: 0 15px;
        }

        /* Add slashes after each li except the last one */
        .nav-menu li:not(:last-child)::after {
            content: "/";
            color: white; /* Assuming you want white slashes */
            font-size: 1.8em; 
            font-weight: bold;
            margin-left: 10px; /* This adds space after the slash */
        }

        .nav-menu a {
            color: #4b2e83; /* Adjust text color as needed */
            font-size: 1.2em; 
            text-decoration: none;
            padding: 10px 15px;
        }
        .nav-menu .active {
            color: #4b2e83; /* This will be the color of the selected item */
            font-weight: bold;
            text-decoration: underline; /* existing style for hover */
            border-bottom: 3px solid white; /* This adds a bottom border to the active item */
        }

        .nav-menu a:hover {
            text-decoration: underline;
        }

        .upload-container {
            border: 2px dashed #ccc;
            border-radius: 5px;
            padding: 20px;
            margin: 20px auto;
            width: 50%;
        }

        .upload-container:hover {
            border-color: #777;
        }

        input[type="file"] {
            margin: 10px 0;
        }

        /* Style for the section steps */
        .section-break {
            border: 0;
            height: 2px;
            background-image: linear-gradient(to right, #f0f0f0, #8c8c8c, #f0f0f0);
            margin: 20px 0;
        }
        .center-container {
            text-align: center; /* This centers the inline contents */
            margin: 0 auto; /* This centers the block itself if it has a width */
            padding: 20px; /* Add some padding around the content */
        }

        /* Style for iframe */
        .iframe-container {
            width: 100%;
            height: 500px; /* You can adjust this to fit your design */
            border: 2px dotted #000; /* Dotted border */
            margin-top: 20px; /* Add some space above the iframe */
        }

        /* Base style for buttons */
        .button {
            padding: 10px 20px; /* Some padding inside the button */
            margin: 20px 10px; /* Some margin outside the button */
            border: none; /* Remove the default border */
            border-radius: 5px; /* Rounded corners */
            cursor: pointer; /* Pointer cursor on hover */
            display: inline-block; /* Allows the button to be centered with text-align */
            font-size: 16px; /* Increase font size */
        }

        /* Specific style for the blue button */
        .blue-button {
            background-color: #007bff; /* Bootstrap primary blue */
            color: white; /* White text color */
        }

        /* Hover effect for the blue button */
        .blue-button:hover {
            background-color: #0056b3; /* A darker shade of blue */
        }
        
        .button-container {
            display: flex; /* Use flexbox to layout children */
            justify-content: center; /* Center children horizontally */
            align-items: center; /* Center children vertically */
            gap: 70px; /* Add space between buttons */
        }
        
        
    </style>
</head>
<body>
    <div class="top-bar">
        <!-- Replace 'logo1.png' with the path to your actual first logo -->
        <img src="images/UW_logo.png" alt="University Logo" class="logo2">
        <!-- Other content for the top bar goes here -->
    </div>
    <div class="nav-menu">
        <!-- Replace 'path_to_logo_image.png' with the path to your actual logo image -->
        <img src="images/CEI_logo.png" alt="Clean Energy Institute Logo" class="logo1">
        <ul>
            <!-- Add actual links to your navigation items -->
            <li><a href="index.html" >Research Motivation</a></li>
            <li><a href="network.html" class="active">Electric Bus Networks</a></li>
            <li><a href="Q_A.html">Q & A</a></li>
        </ul>
    </div>
    <div class="flex-container">
        <div class="main-content">
            <div class="introduction-container">
                <h2>A Coupled Transportation and Power Network Visualization in the Browser</h2>

                <p>Welcome to our interactive webpage, designed to revolutionize electric bus planning! </p>
                <p>Here, you'll find a powerful tool that generates coupled power and transportation network models.</p>     
                <p>This innovative platform is an invaluable resource for scientists and city planners. It facilitates interdisciplinary decision-making by providing insights into the impacts of electric bus operations on both the power grid and transportation systems.</p>     
                <p>Dive in and explore how our tool can assist in creating more efficient, sustainable urban environments!</p>     

                <p align="center">
                    <img src="images/coupled_overlap.png" alt="Electric Buses and Eco-Friendly Charging">
                    <em>Functional interconnection of nodes in the coupled power and transportation network.</em>
                </p>

                <h3 class="section-heading">📖 Existing Case Study</h3>
                <p class="section-content">Hey, young explorers! 🌟 Ready for an adventure? We're going to look at six awesome cities on this map, each marked with a 📍. Just click the button next to each city to explore their exciting electricity and bus systems. It's like being a city detective! You'll see all the little details that make these cities buzz and hum. </p>
                <p>Remember, our map is just a sneak peek, showing some of the bus routes in these cities. Let's start our urban exploration journey and discover how these places stay powered and moving!</p>
                <hr class="section-break">

            <!-- use the tool image_map_generator: https://www.image-map.net/ -->
                <div class="map-container">
                    <img src="images/map.png" usemap="#citymap" alt="Map of the USA">
                    <map name="citymap">
                        <div class="map-marker" data-original-left="117" data-original-top="66">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_sample_WA.html">King County</button>
                        </div>
                        <div class="map-marker" data-original-left="550" data-original-top="595">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_TX_sample.html">Austin</button>
                        </div>
                        <div class="map-marker" data-original-left="267" data-original-top="292">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_UT_sample.html">Salt Lake City</button>
                        </div>
                        <div class="map-marker" data-original-left="745" data-original-top="280">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_IL_sample.html">Chicago</button>
                        </div>
                        <div class="map-marker" data-original-left="37" data-original-top="317">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_CA_sample.html">San Francisco</button>
                        </div>
                        <div class="map-marker" data-original-left="839" data-original-top="491">
                            <span class="emoji">📍</span>
                            <button class="city-btn" data-html="images/coupled_map_GA_sample.html">Atlanta</button>
                        </div>
                    </map>
                </div>
                
                <!-- iframe to display the content -->
                <iframe name="map-frame" class="iframe-container"></iframe> 


                <h3 class="section-heading"> ✍️ Create Your Own Networks</h3>
                <p class="section-content">Looking for something different because your city isn't on the list? Or maybe you want to add your own hometown 🏡 </p>
                <p>If you know a bit about Python 🐍 and have it set up on your computer, you're in for a treat! You can create your very own custom electric bus network for your city. And guess what? It's not only simple, it's really enjoyable too! Let me show you how you can get started: 🚀</p>
                    <ol class="section-steps">
                        <li><strong>Download the Magic Tool:</strong> Grab the python function <a href="https://github.com/Xinyi-0724/GTFS_TransPowerNet" target="_blank"><strong>GTFS_PowerTransNet</strong></a> and unzip the file on your computer.</li>
                        <li><strong>Get Your City's Bus Data:</strong> Find a General Transit Feed Specification (GTFS) data file for your city's buses. Save this file in the 'source_code' subfolder of the python file you just unzipped.</li>
                        <li><strong>Set Up Your Python Toolbox:</strong> Install the necessary python package in your python environment.</li>
                        <li><strong>Open Your Code Notebook:</strong> Launch the jupyternotebook named 'coupled_net_example.ipynb' from the source code folder. Here's where the magic begins! Replace the GTFS file names with the one you downloaded for your city.</li>
                        <li><strong>Tweak the Settings:</strong> Adjust settings like 'dist_threshold', 'common_stop_threshold', and 'threshold_power_node' in the jupyternotebook as needed.</li>
                        <li><strong>Let the Code Run Wild:</strong> Run the code, and watch as it creates a fantastic coupled network, which you'll find saved in the 'source_code' folder.</li>
                    </ol>
                    
                    And there you have it! Start your coding adventure now and see how you can help transform the way your city moves around. Who knows, you might just be the next big city planner!</p>

                    
                        
            </div>
        </div>
    </div>
    <script>
        function adjustMarkers() {
            // Get the map container and the original dimensions of the map image
            const mapContainer = document.querySelector('.map-container');
            const originalWidth = 1200; // Replace with the original width of your map image
            const originalHeight = 742; // Replace with the original height of your map image

            // Calculate the current scale factor
            const currentWidth = mapContainer.offsetWidth;
            const scaleFactor = currentWidth / originalWidth;

            // Adjust each marker
            const markers = document.querySelectorAll('.map-marker');
            markers.forEach(marker => {
                const originalLeft = parseInt(marker.getAttribute('data-original-left'));
                const originalTop = parseInt(marker.getAttribute('data-original-top'));

                // Scale the position of the marker
                marker.style.left = (originalLeft * scaleFactor) + 'px';
                marker.style.top = (originalTop * scaleFactor) + 'px';
            });
        }

        document.querySelectorAll('.city-btn').forEach(button => {
            button.addEventListener('click', function() {
                const htmlFile = this.getAttribute('data-html');
                document.querySelector('.iframe-container').src = htmlFile;
            });
        });

        // Adjust markers on window resize
        window.addEventListener('resize', adjustMarkers);

        // Initial adjustment
        adjustMarkers();



    // Don't forget to include the 'adjustMarkers' function and resize event listener from the previous solution.


    </script>


</body>
</html>
                        